import{s as j,c as z,L as R,b,r as l,o as U,d as i,e as V,f as r,g as u,j as a,h as s,l as _,i as f,E as c,m as S,F as q,n as A,t as K,K as T,q as $}from"./index.25c5763d.js";import{u as G,s as H}from"./userStore.df57d0cc.js";import{M as J}from"./MyStatusItem.1c3db806.js";import{I as C}from"./InfoItem.40cb8750.js";import{a as O}from"./status.9e25c884.js";import{f as P}from"./time.1971aa2a.js";import{_ as Q}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                                     *//* empty css                                                                 */const W={class:"all"},X={class:"top"},Y={class:"avatar"},Z={class:"info"},ee={class:"uname"},ae={class:"uemail"},te={class:"bottom"},se={class:"infinite-list"},oe={__name:"CheckFriendInfo",setup(le){const E=G(),{token:p}=j(E),{t:n}=z(),v=R(),h=b([]);l(0);const m=l(!1),d=l(!1),g=b({pageSize:5,pageNum:1}),y=l("FriendName"),I=l("FriendEmail@gmail.com"),w=l("test.jpg");function F(){H(p.value,v.params.id).then(e=>{e.data.success?(y.value=e.data.data.uname,I.value=e.data.data.email,w.value=e.data.data.avatar):c({type:"error",message:e.data.msg,showClose:!0})}).catch(e=>{c({type:"error",message:n("myStatusList.loadError"),showClose:!0}),console.log(e)})}function k(){if(!m.value&&!d.value){m.value=!0;let e=v.params.id;O(p.value,e,g).then(t=>{t.data.success?t.data.data.length>0?(h.push(...t.data.data),g.pageNum+=1):d.value=!0:c({type:"error",message:t.data.msg,showClose:!0})}).catch(t=>{c({type:"error",message:n("myStatusList.loadError"),showClose:!0}),console.log(t)}).finally(()=>{m.value=!1})}}return U(()=>{F()}),(e,t)=>{const M=i("el-avatar"),L=i("el-divider"),N=i("el-timeline-item"),D=i("el-timeline"),x=i("el-scrollbar"),B=V("infinite-scroll");return r(),u("div",W,[a("div",X,[a("div",Y,[s(M,{class:"img",src:w.value},null,8,["src"])]),a("div",Z,[a("div",ee,[s(C,{label:_(n)("infoItem.userName"),value:y.value},null,8,["label","value"])]),a("div",ae,[s(C,{label:_(n)("infoItem.email"),value:I.value},null,8,["label","value"])])])]),s(L),a("div",te,[s(x,{id:"all","wrap-style":"height:50vh;"},{default:f(()=>[S((r(),u("ul",se,[s(D,null,{default:f(()=>[(r(!0),u(q,null,A(h,o=>(r(),$(N,{key:o.statusId,timestamp:_(P)(o.createDate),size:"large",color:"#D9F2E3",hollow:"",center:""},{default:f(()=>[a("li",null,[s(J,{isMine:o.isMine,message:o.msg,pictures:o.pics,id:o.statusId},null,8,["isMine","message","pictures","id"])])]),_:2},1032,["timestamp"]))),128))]),_:1}),S(a("li",{id:"end"},K(e.$t("myStatusList.toEnd")),513),[[T,d.value]])])),[[B,k]])]),_:1})])])}}},pe=Q(oe,[["__scopeId","data-v-326ceb08"]]);export{pe as default};
