import{s as h,c as D,r as p,d as i,e as R,f as d,g as u,h as o,i as n,l as c,j as b,k as F,t as y,m as A,F as U,n as M,E as f}from"./index.25c5763d.js";import{u as T}from"./userStore.df57d0cc.js";import{u as $}from"./newStore.3d7b1572.js";import{c as j}from"./friend.2ac2f8da.js";import{R as q}from"./ResultItem.b7781963.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                                   */const G={id:"all"},H={style:{width:"40%"}},J={class:"dialog-footer"},K={class:"infinite-list"},O={__name:"AddNewFriend",setup(P){const V=T(),m=$(),{token:N}=h(V),{nfList:L}=h(m),{t:s}=D(),a=p(!1),l=p("");var _=p<Number>-1;function v(e){m.delItem(e)}function g(){a.value=!1,l.value=""}function k(e){a.value=!0,_=e}function C(){a.value=!1,j(N.value,_,l.value).then(e=>{e.data.success?(f({type:"success",message:s("newFriendList.addSuccess"),showClose:!0}),v(_)):f({type:"error",message:s("newFriendList.addError"),showClose:!0,grouping:!0})}).catch(e=>{f({type:"error",message:s("newFriendList.addError"),showClose:!0,grouping:!0}),console.log(e)})}function x(){m.loadNewFriends()}return(e,r)=>{const I=i("el-input"),w=i("el-button"),S=i("el-dialog"),B=i("el-scrollbar"),E=R("infinite-scroll");return d(),u("div",G,[o(S,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=t=>a.value=t),title:c(s)("newFriendList.inputMsg"),width:"40%","before-close":g},{footer:n(()=>[b("span",J,[o(w,{onClick:g},{default:n(()=>[F(y(e.$t("buttons.cancel")),1)]),_:1}),o(w,{type:"primary",onClick:C},{default:n(()=>[F(y(e.$t("buttons.confirm")),1)]),_:1})])]),default:n(()=>[b("div",H,[o(I,{placeholder:c(s)("newFriendList.msg"),modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),maxlength:"20","show-word-limit":"",type:"text"},null,8,["placeholder","modelValue"])])]),_:1},8,["modelValue","title"]),o(B,{id:"scroll-bar"},{default:n(()=>[A((d(),u("ul",K,[(d(!0),u(U,null,M(c(L),t=>(d(),u("li",{key:t.id},[o(q,{avatar:t.avatar,id:t.id,username:t.uname,"button-label":c(s)("newFriendList.add"),onDelItem:v,onBtnFunc:k},null,8,["avatar","id","username","button-label"])]))),128))])),[[E,x]])]),_:1})])}}},se=z(O,[["__scopeId","data-v-afa5e99a"]]);export{se as default};
