import{E as n,f,g,j as r,t as p,U as w,m as a,I as d}from"./index.25c5763d.js";import{t as u,i as c}from"./bg1.62a22e62.js";import{u as b}from"./userStore.df57d0cc.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";const y={data(){return{uname:"",pwd:"",pwd2:"",em:"",emReg:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,unameReg:/^[\w-]{3,16}$/,pwdReg:/^[\w-]{6,18}$/,store:b()}},methods:{toLogin:function(){this.$router.push("/login")},register:function(){let e=this.uname,t=this.em,m=this.pwd2,i=this.pwd;if(!u.isNotNull(t))this.$refs.email.focus();else if(!u.isNotNull(e))this.$refs.username.focus();else if(!u.isNotNull(i))this.$refs.password.focus();else if(!u.isNotNull(m))this.$refs.password.focus();else{if(i!=m)return n({type:"warning",message:this.$t("welcome.pwd2Error"),showClose:!0,grouping:!0}),!1;let l=new RegExp(this.emReg);if(!l.test(t))return n({type:"warning",message:this.$t("welcome.emailError"),showClose:!0,grouping:!0}),!1;if(l=new RegExp(this.unameReg),!l.test(e))return n({type:"warning",message:this.$t("welcome.unameError"),showClose:!0,grouping:!0}),!1;if(l=new RegExp(this.pwdReg),!l.test(i))return n({type:"warning",message:this.$t("welcome.pwdError"),showClose:!0,grouping:!0}),!1;let s={uname:e,pwd:i,email:t};this.store.register(s),this.$router.push("/")}}},computed:{username:{get(){return this.uname},set(e){this.uname=e.trim()}},password:{get(){return this.pwd},set(e){this.pwd=e.trim()}},password2:{get(){return this.pwd2},set(e){this.pwd2=e.trim()}},email:{get(){return this.em},set(e){this.em=e.trim()}}},beforeCreate(){document.querySelector("body").setAttribute("style","background-image:url('"+c+"');"),document.querySelector("body").setAttribute("class","bg-cover bg-no-repeat w-full h-full")},Updated(){document.querySelector("body").removeAttribute("style")}},x={class:"h-full flex flex-col flex-nowrap justify-center items-center"},v={id:"shadow",class:"border-dotted border-0 border-gray-600 bg-white/30 rounded-3xl py-12 px-12 backdrop-blur-md flex flex-col flex-nowrap justify-center items-center"},_={class:"text-white my-12 text-4xl mt-5"},R={class:"flex justify-around flex-col"},$={class:"form-floating mb-8 xl:w-80"},k=["placeholder"],E={class:"form-floating mb-8 xl:w-80"},N=["placeholder"],U={class:"form-floating mb-8 xl:w-80"},C=["placeholder"],S={class:"form-floating mb-8 xl:w-80"},V=["placeholder"];function j(e,t,m,i,l,s){return f(),g("div",x,[r("div",v,[r("header",null,[r("div",_,p(e.$t("welcome.register")),1)]),r("div",null,[r("form",{ref:"form",onSubmit:t[4]||(t[4]=w((...o)=>e.submit&&e.submit(...o),["prevent"]))},[r("div",R,[r("div",$,[a(r("input",{type:"text",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"email",name:"email",ref:"email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o),placeholder:e.$t("welcome.email")},null,8,k),[[d,s.email]])]),r("div",E,[a(r("input",{type:"text",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"username",name:"username",ref:"username","onUpdate:modelValue":t[1]||(t[1]=o=>s.username=o),placeholder:e.$t("welcome.uname")},null,8,N),[[d,s.username]])]),r("div",U,[a(r("input",{type:"password",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"password",name:"password",ref:"password","onUpdate:modelValue":t[2]||(t[2]=o=>s.password=o),placeholder:e.$t("welcome.pwd")},null,8,C),[[d,s.password]])]),r("div",S,[a(r("input",{type:"password",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"password2",name:"password2",ref:"password2","onUpdate:modelValue":t[3]||(t[3]=o=>s.password2=o),placeholder:e.$t("welcome.pwd2")},null,8,V),[[d,s.password2]])])])],544)]),r("div",null,[r("button",{onClick:t[5]||(t[5]=(...o)=>s.register&&s.register(...o)),class:"flex2 bg-rose-800 hover:bg-yellow-300 text-white font-bold py-2 px-16 rounded-2xl my-8 text-2xl"},[r("div",null,p(e.$t("welcome.register")),1)]),r("div",{onClick:t[6]||(t[6]=(...o)=>s.toLogin&&s.toLogin(...o)),class:"text-center hover:text-green-400"},p(e.$t("welcome.toRegister")),1)])])])}const M=h(y,[["render",j]]);export{M as default};
