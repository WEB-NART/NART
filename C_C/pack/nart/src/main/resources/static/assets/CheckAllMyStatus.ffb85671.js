import{s as b,c as x,b as v,r as c,d as u,e as N,f as l,g as m,h as d,i as p,m as y,F as A,n as F,j as S,t as z,K as V,q as j,l as q,E as r}from"./index.25c5763d.js";import{u as K}from"./userStore.df57d0cc.js";import{M as R}from"./MyStatusItem.1c3db806.js";import{a as T,b as U}from"./status.9e25c884.js";import{f as $}from"./time.1971aa2a.js";import{_ as G}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css                                                                     */const H={id:"larger-all"},J={class:"infinite-list"},O={__name:"CheckAllMyStatus",props:{uid:{type:String,default:"-1"}},setup(M){const k=M,f=K(),{token:_}=b(f),{t:g}=x(),o=v([]);c(0);const i=c(!1),n=c(!1),h=v({pageSize:5,pageNum:1});function w(){!i.value&&!n.value&&(i.value=!0,T(_.value,k.uid,h).then(e=>{e.data.success?e.data.data.length>0?(o.push(...e.data.data),h.pageNum+=1):n.value=!0:r({type:"error",message:e.data.msg,showClose:!0})}).catch(e=>{r({type:"error",message:g("myStatusList.loadError"),showClose:!0}),console.log(e)}).finally(()=>{i.value=!1}))}function C(e){for(let t=0;t<o.length;t++)if(o[t].statusId==e){E(e,t);return}}function E(e,t){U(_.value,e).then(s=>{s.data.success?o.splice(t,1):r({type:"error",message:s.data.msg,showClose:!0,grouping:!0})}).catch(s=>{r({type:"error",message:g("myStatusList.delError"),showClose:!0,grouping:!0}),console.log(s)}).finally(()=>{})}function D(e){return e==f.name}return(e,t)=>{const s=u("el-timeline-item"),I=u("el-timeline"),L=u("el-scrollbar"),B=N("infinite-scroll");return l(),m("div",H,[d(L,{height:"75vh",id:"all"},{default:p(()=>[y((l(),m("ul",J,[d(I,null,{default:p(()=>[(l(!0),m(A,null,F(o,a=>(l(),j(s,{key:a.statusId,timestamp:q($)(a.createDate),size:"large",color:"#D9F2E3",hollow:"",center:""},{default:p(()=>[S("li",null,[d(R,{isMine:D(a.uname),message:a.msg,pictures:a.pics,id:a.statusId,onDel:C},null,8,["isMine","message","pictures","id"])])]),_:2},1032,["timestamp"]))),128))]),_:1}),y(S("li",{id:"end"},z(e.$t("myStatusList.toEnd")),513),[[V,n.value]])])),[[B,w]])]),_:1})])}}},te=G(O,[["__scopeId","data-v-50d98550"]]);export{te as default};
