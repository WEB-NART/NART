import{t as a,i as f}from"./bg1.62a22e62.js";import{u as p}from"./userStore.df57d0cc.js";import{u as c}from"./chatStore.6d9034ed.js";import{E as u,f as g,g as w,j as t,t as n,U as b,m as d,I as m}from"./index.25c5763d.js";import{_ as h}from"./_plugin-vue_export-helper.cdc0426e.js";const x={data(){return{uname:"",pwd:"",store:p(),chatStore:c(),unameReg:/^[\w-.]{3,28}$/,pwdReg:/^[\w-]{6,18}$/}},methods:{toRegister:function(){this.$router.push("/register")},login:function(){let e=this.uname,o=this.pwd;if(!a.isNotNull(e))this.$refs.username.focus();else if(!a.isNotNull(o))this.$refs.password.focus();else{let l=new RegExp(this.unameReg);if(!l.test(e))return u({type:"warning",message:this.$t("welcome.unameError"),showClose:!0,grouping:!0}),!1;if(l=new RegExp(this.pwdReg),!l.test(o))return u({type:"warning",message:this.$t("welcome.pwdError"),showClose:!0,grouping:!0}),!1;let i={username:e,password:o};this.store.login(i).then(()=>{this.$router.push("/")})}}},computed:{username:{get(){return this.uname},set(e){this.uname=e.trim()}},password:{get(){return this.pwd},set(e){this.pwd=e.trim()}}},beforeCreate(){document.querySelector("body").setAttribute("style","background-image:url('"+f+"');"),document.querySelector("body").setAttribute("class","bg-cover bg-no-repeat w-full h-full")},Updated(){document.querySelector("body").removeAttribute("style")},setup(){}},y={class:"h-full flex flex-col flex-nowrap justify-center items-center"},v={id:"shadow",class:"border-dotted border-0 border-gray-600 bg-white/30 rounded-3xl py-12 px-12 backdrop-blur-md flex flex-col flex-nowrap justify-center items-center"},_={class:"text-white my-12 text-4xl mt-5"},R={class:"flex justify-center"},$={class:"form-floating mb-8 xl:w-80"},k=["placeholder"],S={class:"form-floating mb-3 xl:w-80"},E=["placeholder"],C={class:"flex flex-col flex-nowrap"};function U(e,o,l,i,N,s){return g(),w("div",y,[t("div",v,[t("header",null,[t("div",_,n(e.$t("welcome.login")),1)]),t("div",null,[t("form",{ref:"form",onSubmit:o[2]||(o[2]=b((...r)=>e.submit&&e.submit(...r),["prevent"]))},[t("div",R,[t("div",null,[t("div",$,[d(t("input",{type:"text",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"username",name:"username",ref:"username","onUpdate:modelValue":o[0]||(o[0]=r=>s.username=r),placeholder:e.$t("welcome.uname")},null,8,k),[[m,s.username]])]),t("div",S,[d(t("input",{type:"password",class:"form-control block w-full px-2 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",id:"password",name:"password",ref:"password","onUpdate:modelValue":o[1]||(o[1]=r=>s.password=r),placeholder:e.$t("welcome.pwd")},null,8,E),[[m,s.password]])])])])],544)]),t("div",C,[t("button",{onClick:o[3]||(o[3]=(...r)=>s.login&&s.login(...r)),class:"flex2 bg-rose-800 hover:bg-yellow-300 text-white font-bold py-2 px-16 rounded-2xl my-8 text-2xl"},[t("div",null,n(e.$t("welcome.login")),1)]),t("div",{onClick:o[4]||(o[4]=(...r)=>s.toRegister&&s.toRegister(...r)),class:"text-center hover:text-green-400"},n(e.$t("welcome.toRegister")),1)])])])}const V=h(x,[["render",U]]);export{V as default};
