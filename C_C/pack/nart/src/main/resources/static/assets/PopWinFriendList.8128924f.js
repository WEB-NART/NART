import{u as U}from"./userStore.df57d0cc.js";import{u as j}from"./friendStore.3d0886d6.js";import{c as A,s as F,a as H,r as c,b as q,w as z,d,e as M,f as n,q as m,i as p,l as s,v as V,j as _,h as f,y as O,m as T,g as v,F as J,n as K,E as L}from"./index.25c5763d.js";import{a as Q}from"./friend.2ac2f8da.js";/* empty css                                                                    */import{_ as X}from"./_plugin-vue_export-helper.cdc0426e.js";import{R as y}from"./ResultItem.b7781963.js";import"./newStore.3d7b1572.js";/* empty css                                                                   */const Y={class:"all"},Z={class:"search"},$={class:"list"},ee={class:"infinite-list","infinite-scroll-distance":10},te={__name:"PopWinFriendList",props:{dialogVisible:Boolean,lst:Array},emits:["closeWin","addFun"],setup(I,{emit:g}){const u=I,{t:l}=A(),k=U(),o=j(),{name:ae,avatar:se,token:w}=F(k),{gList:B}=F(o);H(),c(!1),c(!1);const W=q({pageSize:7,pageNum:1});var i=c(""),r=c(u.dialogVisible);z(dialogVisible,t=>{r=t});const b=t=>{o.delGItem(t)};function h(t){let a=o.delGItem(t);g("addFun",a)}function C(){let t=i.value;(t==null||t=="")&&(t="-1"),Q(w.value,t,W).then(a=>{a.data.success?o.gList=getDiff(friendList,u.lst):L({type:"error",message:a.data.msg,showClose:!0,grouping:!0})}).catch(a=>{L({type:"error",message:l("friendIHave.searchError"),showClose:!0,grouping:!0})})}function x(){return o.loadNewGFriends()}function D(){g("closeWin")}function R(){o.loadFirstGList(u.list)}return(t,a)=>{const E=d("el-button"),G=d("el-input"),N=d("el-scrollbar"),P=d("el-dialog"),S=M("infinite-scroll");return n(),m(P,{modelValue:s(r),"onUpdate:modelValue":a[1]||(a[1]=e=>V(r)?r.value=e:r=e),title:s(l)("popWin.AddFriend"),width:"60%",onOpen:R,onClose:D},{default:p(()=>[_("div",Y,[_("div",Z,[f(G,{id:"searchF",modelValue:s(i),"onUpdate:modelValue":a[0]||(a[0]=e=>V(i)?i.value=e:i=e),placeholder:s(l)("friendIHave.searchFriend")},{append:p(()=>[f(E,{onClick:C,icon:s(O)},null,8,["icon"])]),_:1},8,["modelValue","placeholder"])]),_("div",$,[f(N,{height:"65vh",id:"all"},{default:p(()=>[T((n(),v("ul",ee,[(n(!0),v(J,null,K(s(B),e=>(n(),v("li",{key:e.id},[e.uname?(n(),m(y,{key:0,avatar:e.avatar,id:e.id,username:e.uname,"button-label":s(l)("memberList.add"),onDelItem:b,onBtnFunc:h},null,8,["avatar","id","username","button-label"])):(n(),m(y,{key:1,avatar:e.avatar,id:e.id,username:e.name,"button-label":s(l)("memberList.add"),onDelItem:b,onBtnFunc:h},null,8,["avatar","id","username","button-label"]))]))),128))])),[[S,x]])]),_:1})])])]),_:1},8,["modelValue","title"])}}},pe=X(te,[["__scopeId","data-v-2aae53fb"]]);export{pe as default};
